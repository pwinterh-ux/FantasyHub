{% extends "base.html" %}

{% block content %}
<div class="glass-tile" style="max-width:560px;margin:40px auto;padding:24px;">
  <h2 style="margin:0 0 10px;">Link MyFantasyLeague</h2>
  <p style="opacity:.9;margin:0 0 16px;">
    Sign in with your MFL credentials. We <strong>never</strong> store your password â€” only the short-lived session
    cookie MFL returns so we can sync your leagues.
  </p>

  <form method="POST" action="{{ url_for('mfl.mfl_login') }}" style="display:flex;flex-direction:column;gap:14px;">
    <label style="display:flex;flex-direction:column;gap:6px;">
      <span>Username</span>
      <input
        name="username"
        required
        autocomplete="username"
        value="{{ request.form.get('username','') }}"
        style="width:100%;"
      >
    </label>

    <label style="display:flex;flex-direction:column;gap:6px;">
      <span>Password</span>
      <input
        type="password"
        name="password"
        required
        autocomplete="current-password"
        style="width:100%;"
      >
    </label>

    <label style="display:flex;flex-direction:column;gap:6px;max-width:180px;">
      <span>Season (year)</span>
      <input
        type="number"
        name="year"
        min="2000"
        max="2100"
        value="{{ request.form.get('year', default_year) }}"
        required
      >
    </label>

    <div style="display:flex;gap:10px;align-items:center;margin-top:6px;">
      <button class="button" type="submit">Sign in & Continue</button>
      <a class="button" href="{{ url_for('leagues.my_leagues') }}" style="background:#444;">Cancel</a>
    </div>

    <div style="font-size:.9em;opacity:.85;">
      Trouble logging in? Make sure your MFL username/password are for the selected season.
    </div>
  </form>
</div>
{% endblock %}
